extends header

block content
  link(href='/stylesheets/dragula.css', rel='stylesheet')
  script(src="/javascripts/dragula.min.js")
  script(src="/javascripts/initDragula.js")

  div(class="container")
    header(class="major")
      h2= title
  div(class="container")
    if errorMessage && errorMessage.length
      div(class="error")
        | #{errorMessage}
    if successMessage && successMessage.length
      div(class="success")
        | #{successMessage}
    div(class="padding-top")
      form(id="calendar-form", action='/calendar', method='post')
        table(class="rtable")
          tr
            th
            th Sunday
            th Monday
            th Tuesday
            th Wednesday
            th Thursday
            th Friday
            th Saturday
          tr
            td Breakfast
            -for (var j = 0; j < 7; j++) {
              td(id="#{j}0", class=(calendarDayAndRecipeMap["" + j + 0] != null ? "" : "accept"))
                if calendarDayAndRecipeMap["" + j + 0] != null
                  label(class="padding-top", id="#{calendarDayAndRecipeMap['' + j + 0][0]}")
                    | #{calendarDayAndRecipeMap["" + j + 0][1]}
            -}
          tr
            td Lunch
            -for (var j = 0; j < 7; j++) {
              td(id="#{j}1", class=(calendarDayAndRecipeMap["" + j + 1] != null ? "" : "accept"))
                if calendarDayAndRecipeMap["" + j + 1] != null
                  label(class="padding-top", id="#{calendarDayAndRecipeMap['' + j + 1][0]}")
                    | #{calendarDayAndRecipeMap["" + j + 1][1]}
            -}
          tr
            td Dinner
            -for (var j = 0; j < 7; j++) {
              td(id="#{j}2", class=(calendarDayAndRecipeMap["" + j + 2] != null ? "" : "accept"))
                if calendarDayAndRecipeMap["" + j + 2] != null
                  label(class="padding-top", id="#{calendarDayAndRecipeMap['' + j + 2][0]}")
                    | #{calendarDayAndRecipeMap["" + j + 2][1]}
            -}
        input(style="display: block", type='submit', value='Submit Calendar')
      h2(class="padding-top") Recipes
      div(id="recipes", class="recipes")
        for recipe in recipes
          label(class="padding-top", id="#{recipe.recipeId}")
            | #{recipe.name}